import json
from .models import BUAndProdRelationship, BusinessUnit


class BusinessUnitCtrl():
    def getTheBUAndProductMapByBU(self, bu):
        bprs = BUAndProdRelationship.objects.filter(bu = bu)
        buProdMap = {'bu': bu.name, 'prodList': [r.product.to_json() for r in bprs]}
        return json.dumps(buProdMap)


    def getAllBUs(self):
        bus = BusinessUnit.objects.all()
        listData = [bu.name for bu in bus]
        return json.dumps(listData)

