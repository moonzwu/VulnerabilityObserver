import re

class DataConvert():
    def convert_severity_to_integer(severity):
        if severity == 'High':
            return 1
        elif severity == 'Medium':
            return 2
        else:
            return 3

    def convert_status_to_integer(status):
        status = status.replace(' ', '')
        if status == 'Notaffected':
            return 0
        elif status == 'Affected':
            return 1
        else:
            return 2

    def convert_integer_to_severity(value):
        if value == 1:
            return 'High'
        elif value == 2:
            return 'Medium'
        else:
            return 'Low'


class StringUtil():
    def normalize(inputStr, ep=True):
        if inputStr is None:
            return ''
        else:
            # print(inputStr.encode('utf-8'))
            str = inputStr.replace('\n', '') \
                .replace('\\xa0', '') \
                .replace('\u2212', '') \
                .replace('\u201c', '\"') \
                .replace('\u201d', '\"') \
                .strip()
            if ep:
                str = str.replace(':', '')
            return ' '.join(str.split())

    def verifyUrl(url):
        regex = re.compile(
            r'^(?:http|ftp)s?://'  # http:// or https://
            r'(?:(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\.)+(?:[A-Z]{2,6}\.?|[A-Z0-9-]{2,}\.?)|'  # domain...
            r'localhost|'  # localhost...
            r'\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|'  # ...or ipv4
            r'\[?[A-F0-9]*:[A-F0-9:]+\]?)'  # ...or ipv6
            r'(?::\d+)?'  # optional port
            r'(?:/?|[/?]\S+)$', re.IGNORECASE)
        return regex.match(url) != None
